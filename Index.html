<!DOCTYPE html>
<html>
    <head>
        <meta name="viewport" content="width=device-width" />
        <title>Builds</title>
		<link href="Content/Style.css" rel="stylesheet" />
        <style>
.right {
    position: absolute;
    right: 0%;
    width: 50%;
    height: 100%;
}
.left {
    position: absolute;
    left: 0%;
    width: 50%;
    height: 100%;
}
</style>
    </head>
<body>
	<div class="page-loading" data-bind="showHide: isFirstLoad()"></div>
	<div class="page-content" data-bind="showHide: !isFirstLoad()">
	    
        <div>
            <div class="left">

    <script>

    function randomSuccess() {
        return 'c' + Math.floor((Math.random() * 11) +1);
        }

    function randomFail() {
        return 'd' + Math.floor((Math.random() * 11) +1);
        }
    </script>

            <div class="compile-title">Compile, Build and Unit Tests</div>
    	    <div class="compile-panel">
            <ul data-bind="foreach: { data: mainCompiles }">
                     <!-- ko if: status() == "FAILURE"-->
                <li data-bind="attr: { class: 'failure' + ' ' + randomFail() }">
                    <div class="build-branch-main"  data-bind="text: description()"></div>
                    <div class="build-type-main" data-bind="text: status()"></div>
                    <div class="clear"></div>
                    <!-- ko if: hasProgress() -->
                       <div class="progress-container" data-bind="attr: { 'data-progress' : percentageComplete() }"></div>
                    <!-- /ko -->
                </li>
                <!-- /ko -->
                <!-- ko if: status() == "SUCCESS"-->
                <li data-bind="attr: { class: 'success' + ' ' + randomSuccess() }">
                    <div class="build-branch-main"  data-bind="text: description()"></div>
                    <div class="build-type-main" data-bind="text: status()"></div>
                    <div class="clear"></div>
                    <!-- ko if: hasProgress() -->
                       <div class="progress-container" data-bind="attr: { 'data-progress' : percentageComplete() }"></div>
                    <!-- /ko -->
                    <!-- /ko -->
                </li>
                </ul>
        </div>
        
             <div class="compile-panel-history">
                <ul data-bind="foreach: { data: mostRecentCompiles }">
                    <li data-bind="attr: { class: lowerStatus() }, css: { running: isRunning() }">
                        <div class="build-branch"  data-bind="text: description()"></div>
                        <div class="build-type" data-bind="text: buildType"></div>
                        <div class="clear"></div>
                        <div class="build-status" data-bind="text: status()"></div>
                        <div class="clear"></div>                   
						<!-- ko if: hasProgress() -->
                       <div class="progress-container" data-bind="attr: { 'data-progress' : percentageComplete() }"></div>
                    <!-- /ko -->
                    </li>
                </ul>
            </div>
        
        <div class="accept-title">Deploy to Accept</div>
        <div class="accept-panel">
        <ul data-bind="foreach: { data: mainAccept }">
                    <!-- ko if: status() == "FAILURE"-->
                <li data-bind="attr: { class: 'failure' + ' ' + randomFail() }">
                    <div class="build-branch-main"  data-bind="text: description()"></div>
                    <div class="build-type-main" data-bind="text: status()"></div>
                    <div class="clear"></div>
                    <!-- ko if: hasProgress() -->
                       <div class="progress-container" data-bind="attr: { 'data-progress' : percentageComplete() }"></div>
                    <!-- /ko -->
                </li>
                <!-- /ko -->
                <!-- ko if: status() == "SUCCESS"-->
                <li data-bind="attr: { class: 'success' + ' ' + randomSuccess() }">
                    <div class="build-branch-main"  data-bind="text: description()"></div>
                    <div class="build-type-main" data-bind="text: status()"></div>
                    <div class="clear"></div>
                    <!-- ko if: hasProgress() -->
                       <div class="progress-container" data-bind="attr: { 'data-progress' : percentageComplete() }"></div>
                    <!-- /ko -->
                    <!-- /ko -->
                </li>
                </ul>
            </div>
           
        <div class="accept-panel-history">
        <ul data-bind="foreach: { data: mostRecentAccept }">
                <li data-bind="attr: { class: lowerStatus() }, css: { running: isRunning() }">
                    <div class="build-branch"  data-bind="text: description()"></div>
                    <div class="build-type" data-bind="text: buildType"></div>
                    <div class="clear"></div>
                    <div class="build-status" data-bind="text: isRunning() ? '' : status"></div>
                    <div class="clear"></div>
                    <!-- ko if: hasProgress() -->
                       <div class="progress-container" data-bind="attr: { 'data-progress' : percentageComplete() }"></div>
                    <!-- /ko -->
                </li>
            </ul>
        </div>

        <div class="sel-title">Execute Selenium Tests</div>
        <div class="accept-sel-panel">
        <ul data-bind="foreach: { data: mainSelenium }">
            <!-- ko if: status() == "FAILURE"-->
                <li data-bind="attr: { class: 'failure' + ' ' + randomFail() }">
                    <div class="build-branch-main"  data-bind="text: description()"></div>
                    <div class="build-type-main" data-bind="text: status()"></div>
                    <div class="clear"></div>
                    <!-- ko if: hasProgress() -->
                       <div class="progress-container" data-bind="attr: { 'data-progress' : percentageComplete() }"></div>
                    <!-- /ko -->
                </li>
                <!-- /ko -->
                <!-- ko if: status() == "SUCCESS"-->
                <li data-bind="attr: { class: 'success' + ' ' + randomSuccess() }">
                    <div class="build-branch-main"  data-bind="text: description()"></div>
                    <div class="build-type-main" data-bind="text: status()"></div>
                    <div class="clear"></div>
                    <!-- ko if: hasProgress() -->
                       <div class="progress-container" data-bind="attr: { 'data-progress' : percentageComplete() }"></div>
                    <!-- /ko -->
                    <!-- /ko -->
                </li>
            </div>
    
        <div class="accept-sel-panel-history">
		<ul data-bind="foreach: { data: mostRecentSelenium }">
		  <!-- ko if: status() == "FAILURE"-->
                <li data-bind="attr: { class: 'failure' + ' ' + randomFail() }">
                    <div class="build-branch"  data-bind="text: description()"></div>
                    <div class="build-type" data-bind="text: buildType"></div>
                    <div class="clear"></div>
                    <div class="build-status" data-bind="text: status()"></div>
                    <div class="clear"></div>
                    <!-- ko if: hasProgress() -->
                       <div class="progress-container" data-bind="attr: { 'data-progress' : percentageComplete() }"></div>
                    <!-- /ko -->
                </li>
				<!-- /ko -->
				<!-- ko if: status() == "SUCCESS"-->
                <li data-bind="attr: { class: 'success' + ' ' + randomSuccess() }">
                    <div class="build-branch"  data-bind="text: description()"></div>
                    <div class="build-type" data-bind="text: buildType"></div>
                    <div class="clear"></div>
                    <div class="build-status" data-bind="text: status()"></div>
                    <div class="clear"></div>
                    <!-- ko if: hasProgress() -->
                       <div class="progress-container" data-bind="attr: { 'data-progress' : percentageComplete() }"></div>
                    <!-- /ko -->
                    <!-- /ko -->
                </li>
            </ul>
        </div>
         </div>

    </div>
</div>
</div>
</div>
    <div class="right">
        <div class="dev-title">Deploy to Development</div>
        <div class="dev-panel">
        <ul data-bind="foreach: { data: mainDevs }">
                     <!-- ko if: status() == "FAILURE"-->
                <li class = "failure">
                    <div class="build-branch-main"  data-bind="text: description()"></div>
                    <div class="build-type-main" data-bind="text: status()"></div>
                    <div class="clear"></div>
                    <!-- ko if: hasProgress() -->
                       <div class="progress-container" data-bind="attr: { 'data-progress' : percentageComplete() }"></div>
                    <!-- /ko -->
                </li>
                <!-- /ko -->
                <!-- ko if: status() == "SUCCESS"-->
                <li data-bind="attr: { class: 'success' + ' ' + randomSuccess() }">
                    <div class="build-branch-main"  data-bind="text: description()"></div>
                    <div class="build-type-main" data-bind="text: isRunning() ? '' : status"></div>
                    <div class="clear"></div>
                    <!-- ko if: hasProgress() -->
                       <div class="progress-container" data-bind="attr: { 'data-progress' : percentageComplete() }"></div>
                    <!-- /ko -->
                    <!-- /ko -->
                </li>
                </ul>
            </div>
        <div class="dev-panel-history">
        <ul data-bind="foreach: { data: mostRecentDevs }">
                <li data-bind="attr: { class: lowerStatus() }, css: { running: isRunning() }">
                    <div class="build-branch"  data-bind="text: description()"></div>
                    <div class="build-type" data-bind="text: buildType"></div>
                    <div class="clear"></div>
                    <div class="build-status" data-bind="text: status()"></div>
                    <div class="clear"></div>
                    <!-- ko if: hasProgress() -->
                       <div class="progress-container" data-bind="attr: { 'data-progress' : percentageComplete() }"></div>
                    <!-- /ko -->
                </li>
            </ul>
        </div>

        <div class="history-title">Most recent test runs</div>
        <div class="history-panel">
        <ul data-bind="foreach: { data: builds.slice(0, 7) }">
                <li data-bind="attr: { class: lowerStatus() }, css: { running: isRunning() }">
                    <div class="build-branch"  data-bind="text: description()"></div>
                    <div class="build-type" data-bind="text: buildType"></div>
                    <div class="clear"></div>
                    <div class="build-status" data-bind="text: status()"></div>
                    <div class="clear"></div>
                    <!-- ko if: hasProgress() -->
                       <div class="progress-container" data-bind="attr: { 'data-progress' : percentageComplete() }"></div>
                    <!-- /ko -->
                </li>
            </ul>
          </div>
      </div>

	
    <div class="error-box" data-bind="showHide: hasError">
        <div data-bind="text: errorMessage"></div>
    </div>

    <script src="Script/Libraries/knockout-2.2.1.js"></script>
    <script src="Script/Libraries/knockout.mapping-2.4.1.js"></script>
    <script src="Script/Libraries/jquery-2.0.0.min.js"></script>
    <script src="Script/Libraries/jquery-ui.min.js"></script>
    <script src="Script/Libraries/queryStringDecoder.js"></script>

    <script src="Settings.js"></script>
    <script src="Script/Init.js"></script>
    <script src="Script/Utils.js"></script>

    <script src="Script/Libraries/Class.js"></script>
    <script src="Script/ViewModels/BaseBuild.js"></script>
    <script src="Script/ViewModels/SingleBuildViewModel.js"></script>
    <script src="Script/ViewModels/MainBuildViewModel.js"></script>
    <script src="Script/ViewModels/BuildScreenViewModel.js"></script>
</body>
</html>
